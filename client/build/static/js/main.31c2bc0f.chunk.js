(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(t,e){},141:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c.n(n),i=c(69),o=c.n(i),r=(c(76),c(8)),s=(c(77),c(23)),u=c(6),b=c(17),j=c(4),l=c(18),d=c.n(l),O=c(3),h=c(96);var p=function(){var t="dca951119d9442adaff3bb0c8ba9cf43",e="0693cad954e1458fb57095a8328420ac",c=Object(n.useState)(""),a=Object(j.a)(c,2),i=a[0],o=a[1];Object(n.useEffect)((function(){d.a.post("https://accounts.spotify.com/api/token",function(t){var e=[];for(var c in t)t.hasOwnProperty(c)&&e.push(encodeURIComponent(c)+"="+encodeURIComponent(t[c]));return e.join("&")}({grant_type:"client_credentials"}),{headers:{Authorization:"Basic "+btoa(t+":"+e)}}).then((function(t){return o(t.data.access_token)})).catch((function(t){console.log(t)}))}),[]);var r=new h({clientId:t,clientSecret:e});r.setAccessToken("".concat(i));var s=Object(n.useState)(""),u=Object(j.a)(s,2),l=u[0],p=u[1],f=Object(n.useState)(!1),m=Object(j.a)(f,2),x=m[0],v=m[1],g=Object(n.useState)([]),k=Object(j.a)(g,2),y=k[0],S=k[1],w=Object(n.useState)(!1),C=Object(j.a)(w,2),_=C[0],I=C[1],T=Object(n.useState)(!1),D=Object(j.a)(T,2),A=(D[0],D[1]),z=Object(n.useState)(""),F=Object(j.a)(z,2),J=F[0],L=F[1],R=Object(n.useState)(""),B=Object(j.a)(R,2),E=B[0],N=B[1],M=Object(n.useState)(""),P=Object(j.a)(M,2),Q=P[0],W=P[1],Y=Object(n.useState)(""),U=Object(j.a)(Y,2),X=U[0],q=(U[1],Object(n.useState)("")),G=Object(j.a)(q,2),H=G[0],V=G[1],K=Object(n.useState)(Number),Z=Object(j.a)(K,2),$=Z[0],tt=Z[1],et=Object(n.useState)(""),ct=Object(j.a)(et,2),nt=ct[0],at=ct[1],it=Object(n.useState)([]),ot=Object(j.a)(it,2),rt=ot[0],st=ot[1],ut=Object(n.useState)(""),bt=Object(j.a)(ut,2),jt=bt[0],lt=bt[1],dt=Object(n.useState)(""),Ot=Object(j.a)(dt,2),ht=Ot[0],pt=Ot[1],ft=Object(n.useState)(""),mt=Object(j.a)(ft,2),xt=mt[0],vt=mt[1],gt=Object(n.useState)(""),kt=Object(j.a)(gt,2),yt=kt[0],St=kt[1],wt=Object(n.useState)(""),Ct=Object(j.a)(wt,2),_t=Ct[0],It=Ct[1],Tt=Object(n.useState)(""),Dt=Object(j.a)(Tt,2),At=Dt[0],zt=Dt[1],Ft=Object(n.useState)(""),Jt=Object(j.a)(Ft,2),Lt=Jt[0],Rt=Jt[1],Bt=Object(n.useState)(""),Et=Object(j.a)(Bt,2),Nt=Et[0],Mt=Et[1],Pt=Object(n.useState)(""),Qt=Object(j.a)(Pt,2),Wt=Qt[0],Yt=Qt[1],Ut=Object(n.useState)(""),Xt=Object(j.a)(Ut,2),qt=Xt[0],Gt=Xt[1],Ht=Object(n.useState)(""),Vt=Object(j.a)(Ht,2),Kt=Vt[0],Zt=Vt[1],$t=Object(n.useState)(""),te=Object(j.a)($t,2),ee=te[0],ce=te[1],ne=Object(n.useState)(""),ae=Object(j.a)(ne,2),ie=ae[0],oe=ae[1],re=Object(n.useState)(""),se=Object(j.a)(re,2),ue=se[0],be=se[1],je=Object(n.useState)(""),le=Object(j.a)(je,2),de=le[0],Oe=le[1],he=function(){r.searchArtists(l).then((function(t){console.log(t.body.artists.items),S(t.body.artists.items)}),(function(t){console.error(t)})),v(!0)},pe=function(t){var e,c=t.target.getAttribute("marker"),n=Object(b.a)(y);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.id===c&&(W(a.name),at(a.external_urls.spotify),tt(a.popularity),V(a.images[0].url))}}catch(i){n.e(i)}finally{n.f()}v(!1),I(!0),r.getArtistTopTracks(c,"DE").then((function(t){console.log(t);for(var e=0,c=0;c<t.body.tracks.length&&(null!==t.body.tracks[c].preview_url&&0===e?(e++,lt(t.body.tracks[c].name),pt(t.body.tracks[c].preview_url),vt(t.body.tracks[c].album.images[0].url)):null!==t.body.tracks[c].preview_url&&1===e?(e++,St(t.body.tracks[c].name),It(t.body.tracks[c].preview_url),zt(t.body.tracks[c].album.images[0].url)):null!==t.body.tracks[c].preview_url&&2===e?(e++,Rt(t.body.tracks[c].name),Mt(t.body.tracks[c].preview_url),Yt(t.body.tracks[c].album.images[0].url)):null!==t.body.tracks[c].preview_url&&3===e?(e++,Gt(t.body.tracks[c].name),Zt(t.body.tracks[c].preview_url),ce(t.body.tracks[c].album.images[0].url)):null!==t.body.tracks[c].preview_url&&4===e&&(e++,oe(t.body.tracks[c].name),be(t.body.tracks[c].preview_url),Oe(t.body.tracks[c].album.images[0].url)),5!==e);c++);}))};return!1===x&&!1===_?Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"search spotify"}),Object(O.jsx)("input",{value:l,onChange:function(t){return p(t.target.value)}}),Object(O.jsx)("button",{onClick:he,children:"search"})]}):!0===x&&!1===_?Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"search spotify"}),Object(O.jsx)("input",{value:l,onChange:function(t){return p(t.target.value)}}),Object(O.jsx)("button",{onClick:he,children:"search"}),Object(O.jsx)("h3",{children:"results"}),y.map((function(t){return Object(O.jsx)("div",{children:Object(O.jsx)("li",{onClick:pe,id:t._id,marker:t.id,style:{listStyle:"none"},children:t.name})})}))]}):!0===_?Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"spotify added"}),Object(O.jsx)("label",{htmlFor:"longitude",children:"longitude of artist (13, ...)"}),Object(O.jsx)("input",{type:"text",name:"longitude",value:J,onChange:function(t){return L(t.target.value)}}),Object(O.jsx)("label",{htmlFor:"latitude",children:"latitude of artist (52, ... )"}),Object(O.jsx)("input",{type:"text",name:"latitude",value:E,onChange:function(t){return N(t.target.value)}}),Object(O.jsx)("button",{onClick:function(){st([{songTitle:jt,url:ht,cover:xt},{songTitle:yt,url:_t,cover:At},{songTitle:Lt,url:Nt,cover:Wt},{songTitle:qt,url:Kt,cover:ee},{songTitle:ie,url:ue,cover:de}]),A(!0)},children:"confirm"}),Object(O.jsx)("button",{onClick:function(){var t={longitude:J,latitude:E,name:Q,discription:X,picture:H,popularity:$,spotifyLink:nt,tracks:rt};d.a.post("".concat("http://localhost:5005","/api/addArtist"),t).then()},children:"add artist"})]}):void 0};var f=function(t){var e=t.match.params.id,c=Object(n.useState)({}),a=Object(j.a)(c,2),i=a[0],o=a[1],r=Object(n.useState)([]),s=Object(j.a)(r,2),u=s[0],b=s[1];return Object(n.useEffect)((function(){d.a.get("".concat("http://localhost:5005","/api/map/").concat(e)).then((function(t){o(t.data),b(t.data.tracks)}))}),[]),Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{onClick:function(){t.history.push("/map")},children:"close"}),Object(O.jsxs)("div",{id:"porfileHeader",children:[Object(O.jsx)("img",{src:i.picture}),Object(O.jsx)("h1",{children:i.name})]}),Object(O.jsx)("div",{id:"spotifyLinkWrapper",children:Object(O.jsx)("a",{href:i.spotifyLink,children:"spotify"})}),Object(O.jsx)("h3",{children:"tracks"}),u.map((function(t){return Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{src:t.cover}),Object(O.jsx)("h4",{children:t.songTitle}),Object(O.jsx)("audio",{controls:!0,children:Object(O.jsx)("source",{src:t.url})})]})}))]})},m=c(16);var x=function(t){var e=t.props,c=e.popularity;return Object(O.jsx)("div",{children:Object(O.jsxs)(s.b,{to:"/map/".concat(e._id),children:[Object(O.jsx)("img",{src:t.props.picture,style:{width:c,height:c,borderRadius:90}}),Object(O.jsx)("h6",{id:"artistNameOnMap",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:e.name})]})})};var v=function(){var t=Object(n.useState)([]),e=Object(j.a)(t,2),c=e[0],a=e[1];Object(n.useEffect)((function(){d.a.get("".concat("http://localhost:5005","/api/map")).then((function(t){console.log(t.data),a(t.data)})).catch((function(t){return console.log(t)}))}),[]);var i=Object(n.useState)({latitude:52.520008,longitude:13.404954,width:"100w",height:"100vh",zoom:9}),o=Object(j.a)(i,2),s=o[0],u=o[1],b=Object(n.useState)(!1),l=Object(j.a)(b,2),h=l[0];if(l[1],!1===h)return Object(O.jsx)("div",{id:"map",children:Object(O.jsxs)(m.c,Object(r.a)(Object(r.a)({},s),{},{mapboxApiAccessToken:"pk.eyJ1Ijoiam9vc3R3bWQiLCJhIjoiY2t1NDQ3NmJqMXRwbzJwcGM5a3FuY3B3dCJ9.yyon_mO5Y9sI1WgD-XFDRQ",mapStyle:"mapbox://styles/joostwmd/ckvwifepf21kj15pflu8gbkdd",onViewportChange:function(t){u(t)},children:[Object(O.jsxs)("div",{id:"header",children:[Object(O.jsx)("button",{onClick:function(){u(Object(r.a)(Object(r.a)({},s),{},{latitude:52.520008,longitude:13.404954,zoom:9,transitionDuration:2500,transitionInterpolator:new m.a,maxBounds:[[52.618055017661746,13.281432243318726],[52.44320131994233,13.608753967903874]]}))},children:"berlin"}),Object(O.jsx)("button",{onClick:function(){u(Object(r.a)(Object(r.a)({},s),{},{latitude:48.21377358548916,longitude:16.369123862931218,zoom:9,transitionDuration:2500,transitionInterpolator:new m.a}))},children:"wien"}),Object(O.jsx)("button",{onClick:function(){u(Object(r.a)(Object(r.a)({},s),{},{latitude:48.863121054457444,longitude:2.347349831835786,zoom:9,transitionDuration:2500,transitionInterpolator:new m.a}))},children:"paris"}),Object(O.jsx)("button",{onClick:function(){u(Object(r.a)(Object(r.a)({},s),{},{latitude:41.91434431977642,longitude:12.505372936264408,zoom:9,transitionDuration:2500,transitionInterpolator:new m.a}))},children:"rom"}),Object(O.jsx)("button",{onClick:function(){u(Object(r.a)(Object(r.a)({},s),{},{latitude:51.51507257643926,longitude:-.10657974791901607,zoom:9,transitionDuration:2500,transitionInterpolator:new m.a}))},children:"london"}),Object(O.jsx)("button",{onClick:function(){u(Object(r.a)(Object(r.a)({},s),{},{latitude:40.42447458233723,longitude:-3.696949038371607,zoom:9,transitionDuration:2500,transitionInterpolator:new m.a}))},children:"madrid"})]}),c.map((function(t){return Object(O.jsx)(m.b,{latitude:t.coordinates[1],longitude:t.coordinates[0],children:Object(O.jsx)(x,{props:t})})}))]}))})};var g=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(s.a,{children:Object(O.jsxs)(u.c,{children:[Object(O.jsx)(u.a,{exact:!0,path:"/map",component:v}),Object(O.jsx)(u.a,{exact:!0,path:"/addArtist",component:p}),Object(O.jsx)(u.a,{exact:!0,path:"/map/:id",render:function(t){return Object(O.jsx)(f,Object(r.a)({},t))}})]})})})},k=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,142)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,o=e.getTTFB;c(t),n(t),a(t),i(t),o(t)}))};o.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(g,{})}),document.getElementById("root")),k()},76:function(t,e,c){},77:function(t,e,c){}},[[141,1,2]]]);
//# sourceMappingURL=main.31c2bc0f.chunk.js.map